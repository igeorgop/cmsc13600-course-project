# 1. Data Model
A relational data model is a way of structuring data in a database using tables, where each table represents a specific entity or concept. The data in a relational database is organized into tables that have rows and columns. Each row in a table represents a single record or instance of the entity being modeled, while each column represents an attribute or characteristic of that entity.

The relational data model is based on the principles of mathematical set theory and emphasizes the relationships between tables. In a relational database, these relationships are established through the use of foreign keys, which link records in one table to records in another table.

The main advantages of the relational data model are its simplicity, flexibility, and scalability. It allows for efficient storage and retrieval of large amounts of data and supports complex queries and transactions. The relational model is also widely used in industry and has become a standard for managing data in many applications, from simple spreadsheets to complex enterprise systems.

## Reading
Before you begin, you should read up on Django Models [https://docs.djangoproject.com/en/4.1/topics/db/models/], and Django Model Forms [https://docs.djangoproject.com/en/4.1/topics/forms/modelforms/].
Django models define the basic data model which is then compiled to the database. Django Model Forms allow the front end to populate such a database.

## User Experience
Next, we will describe the desired user experience. We don't particularly care how you implement this functionality, but all groups should have this functionality.

1. **User Management** There will be two classes of users: students and instructorss. Both students and instructors should be Django users and should be able to login through `/accounts/login`. Neither one should be a super-user, that should be reserved for you.
2. **Course Management** Instructor can create courses at `/app/create`, which should open a form that creates a course in the database. For simplicity, courses have only a single instructor, but instructors can teach multiple courses. After creation, the page should generate three unique URLS tied to the course:
   - `/app/join?course_id=xyz` A logged in student can join the course
   - `/app/attendance?course_id=xyz` A logged in instructor can display a QR code
   - `/app/upload?course_id=xyz` A logged in student can upload a picture of the QR code

## Data Model (TODO)
Don't worry about implementing the full functionality yet. Instead think about the data model, what data needs to be stored and how it needs to be linked. You will edit the file `models.py` to have your data model. Your data model should

1. Associate users with a category: instructors and students
2. Associate students and instructors with courses
3. Keep track of the QR codes an instructor generate (include the time!)
4. Keep track of the QR codes student in a class upload (include the time!)

Complete `models.py` with this data model. After completion run:
```
(venv) $python manage.py migrate
```
This should run with no errors if your model is consistent. Like the diagrams discussed in class. Draw out your data model and save it to the docs folder in `docss/my-data-model.png`.

## Ask Chat-GPT to generate a data model (TODO)
Chat-GPT can generate suprisingly good data models. Experiemnt with Chat-GPT to generate a data model. Use the text in this doc and the readme to generate a prompt. Ask it to do it as a django models.py file or as more abstract sql tables.
https://chat.openai.com/chat

Wirte your findings below. 
1. How does your data model differ from the one generated by chat-gpt? Why is your's better (on any axis: simpler, more complete, easier to implement, etc.)?

My model differs from the one generated by the chat-gpt as it does not use the built in User model. Therefore it defines different attributes for the name and id of the students and the instructors. The autogenerated model uses the “def __str__(self):
        return self.<>” method that defines how an object should be represented as a string, while I did not include this in my code.Both models create the same 6 basic tables under the normalization process. In addition, it implies some different type of relationships between some distinct classes. For instance, between the Instructor and QR tables, I have establishes a one to many relationship indicating that a single professor can produce different distinct QR codes (eg for different days, multiple QRs), while the model autogenerated establishes the same type of relationship but the other way around indicating that many professors can generate a single code which is not the preffered outcome. The same holds for the QR uploads and students tables, when I indicate that one student can uploads multiple QRs ( eg for different courses), the other model states the relationship reversed, indicating that 1 upload connected to many students, which wants to be avoided. In addition, our model allows one professor per course, while the other model indicates a many to many relationship. In terms of table content, both models contain almost the same basic information with slightly different variable names. My model is sligthly simpler and easier to implement since it has fewer entities and relationships, but overall I think both models do a sufficient job to cover  the requirements of the assignment, each with its own strengths and weaknesses. 

3. Visualize the chat-gpt data model in `docs/gpt-model.png`.

## Deploying Your Model (Optional, but need for next week)
Now, we will go over the steps for deploying your model too the database.

1. Make the following change to your `attendancechimp/attendancechimp/settings.py` file. You need to just add one line:
https://github.com/sjyk/cmsc13600-course-project/commit/af450e997669d1b274194c3c443350c4a46afdac

2. Then create the migrations:
```
$ python manage.py makemigrations app
```

3. Deploy the migrations
```
$ python manage.py migrate
```

You can confirm the migrations worked by running sqlite. I added one table "test", and you see it show up below as `app_test`:
```
(venv) sanjays-MacBook-Air-2:attendancechimp sanjaykrishnan$ sqlite3 db.sqlite3 
SQLite version 3.39.4 2022-09-07 20:51:41
Enter ".help" for usage hints.
sqlite> .tables
app_test                    auth_user_user_permissions
auth_group                  django_admin_log          
auth_group_permissions      django_content_type       
auth_permission             django_migrations         
auth_user                   django_session            
auth_user_groups   
```
